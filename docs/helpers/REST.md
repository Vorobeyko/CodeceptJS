---
id: REST
title: REST
---
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## REST

**Extends Helper**

REST helper allows to send additional requests to the REST API during acceptance tests.
[Axios][1] library is used to perform requests.

## Configuration

-   endpoint: API base URL
-   timeout: timeout for requests in milliseconds. 10000ms by default
-   defaultHeaders: a list of default headers
-   onRequest: a async function which can update request object.

## Example

```js
REST: {
   endpoint: 'http://site.com/api',
   onRequest: (request) => {
     request.headers.auth = '123';
   }
}
```

## Access From Helpers

Send REST requests by accessing `_executeRequest` method:

```js
this.helpers['REST']._executeRequest({
   url,
   data,
});
```

## Methods

### Parameters

-   `config`  

### \_executeRequest

Executes axios request

#### Parameters

-   `request` **any** 

### \_url

Generates url based on format sent (takes endpoint + url if latter lacks 'http')

#### Parameters

-   `url` **any** 

### deleteHttpHeader

Deletes the header with the passed name. Subsequent requests will not have the deleted header in its request.

#### Parameters

-   `name` **[string][2]** 

### dontSeeHttpHeader

Checks over the given HTTP header and (optionally) its value, asserting that are not there

```js
I.dontSeeHttpHeader('content-type');
I.dontSeeHttpHeader('content-type', 'application/json; charset=utf-8');
```

#### Parameters

-   `name` **[string][2]** 
-   `value` **([string][2] \| [undefined][3])**  (optional, default `undefined`)

### dontSeeResponseCodeIs

Checks that response code is not equal to provided value.

```js
I.dontSeeResponseCodeIs(404)
```

#### Parameters

-   `statusCode` **[number][4]** 

### grabHttpHeader

Returns the value of the specified header name.
If name not specified, return all headers

#### Parameters

-   `name` **([string][2] \| [undefined][3])**  (optional, default `undefined`)

### grabResponse

Returns current response so that it can be used in next scenario steps.

### haveHttpHeader

Sets HTTP header valid for all next requests. Use deleteHeader to unset it

#### Parameters

-   `name` **[string][2]** 
-   `value` **[string][2]** 

### seeHttpHeader

Checks over the given HTTP header and (optionally) its value

```js
I.seeHttpHeader('content-type');
I.seeHttpHeader('content-type', 'application/json; charset=utf-8');
```

#### Parameters

-   `name` **[string][2]** 
-   `value` **([string][2] \| [undefined][3])**  (optional, default `undefined`)

### seeResponseCodeIs

Checks response code equals to provided value.

```js
I.seeResponseCodeIs(200)
```

#### Parameters

-   `statusCode` **[number][4]** 

### sendDeleteRequest

Sends DELETE request to API.

```js
I.sendDeleteRequest('/api/users/1');
```

#### Parameters

-   `url` **any** 
-   `headers` **[object][5]**  (optional, default `{}`)

### sendGetRequest

Send GET request to REST API

```js
I.sendGetRequest('/api/users.json');
```

#### Parameters

-   `url` **any** 
-   `headers` **[object][5]**  (optional, default `{}`)

### sendPatchRequest

Sends PATCH request to API.

```js
I.sendPatchRequest('/api/users.json', { "email": "user@user.com" });
```

#### Parameters

-   `url` **[string][2]** 
-   `payload` **[object][5]** 
-   `headers` **[object][5]**  (optional, default `{}`)

### sendPostRequest

Sends POST request to API.

```js
I.sendPostRequest('/api/users.json', { "email": "user@user.com" });
```

#### Parameters

-   `url` **any** 
-   `payload` **any**  (optional, default `{}`)
-   `headers` **[object][5]**  (optional, default `{}`)

### sendPutRequest

Sends PUT request to API.

```js
I.sendPutRequest('/api/users.json', { "email": "user@user.com" });
```

#### Parameters

-   `url` **[string][2]** 
-   `payload` **[object][5]**  (optional, default `{}`)
-   `headers` **[object][5]**  (optional, default `{}`)

### setRequestTimeout

Set timeout for the request

```js
I.setRequestTimeout(10000); // In milliseconds
```

#### Parameters

-   `newTimeout`  

[1]: https://github.com/axios/axios

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
